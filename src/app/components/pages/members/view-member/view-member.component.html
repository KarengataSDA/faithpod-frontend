<app-page-header  [title]="'User Details'" [items]="['User']" [active_item]="'User Details'"></app-page-header>

<div class="row" id="user-profile">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <div class="wideget-user">
            <div class="row">
              <div class="col-lg-12 col-md-12">
                <div class="card p-0 shadow-none">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="d-flex">
                                <div class="media p-5">
                                  <!-- <div class="media-user me-2">
                                      <img
                                        alt=""
                                        class="rounded-circle avatar avatar-md mb-5"
                                        src="./assets/images/users/profile.png"
                                        style="height: 100px; width: 100px;"
                                      />
                                    
                                  </div> -->
                                  <div class="media overflow-visible mt-sm-5" >
                                    <span  style="height: 60px; width: 60px;" class="avatar cover-image avatar-md brround bg-primary me-3">
                                      <h3 style="margin-top: 15px; margin-left: 0px; font-weight: bold;" > {{ (member?.first_name?.charAt(0) || '') + (member?.last_name?.charAt(0) || '') }}</h3>
                                    </span>
                                    <div class="text-dark">
                                      <h3 *ngIf="member"> {{member.first_name }} {{ member.last_name}}</h3>
                                      <button
                                      class="btn btn-sm d-block"
                                      [ngClass]="{
                                        'btn-yellow' : member?.membershiptype?.name === 'visitor',
                                        'btn-green' : member?.membershiptype?.name === 'member',
                                        'btn-success': member?.membershiptype?.name === 'sabbath'
                                      }"
                                      >{{member?.membershiptype?.name}}</button
                                    >
                                    </div>
                                  </div>
                                  
                                </div>
                              </div>
                        </div>
        <div class="col-lg-6">
                            
                             
          <div class="card-header">
            <div class="card-title">About</div>
          </div>
          <div class="card-body">
            <div class="d-flex align-items-center mb-3 mt-3">
              <div class="me-4 text-center text-primary">
                <span><i class="fe fe-calendar fs-20"></i></span>
              </div>
              <div>
                <strong *ngIf="member">{{member.date_of_birth}} </strong>
              </div>
            </div>
            <div class="d-flex align-items-center mb-3 mt-3">
              <div class="me-4 text-center text-primary">
                <span><i class="fe fe-phone fs-20"></i></span>
              </div>
              <div>
                <strong *ngIf="member">{{member.phone_number}} </strong>
              </div>
            </div>
            <div class="d-flex align-items-center mb-3 mt-3">
              <div class="me-4 text-center text-primary">
                <span><i class="fe fe-mail fs-20"></i></span>
              </div>
              <div>
                <strong *ngIf="member" >{{member.email}} </strong>
              </div>
            </div>
            <div class="d-flex align-items-center mb-3 mt-3">
              <div class="me-4 text-center text-primary">
                <span><i class="fe fe-user fs-20"></i></span>
              </div>
              <div>
                <strong *ngIf="member" >{{member.gender}} </strong>
              </div>
            </div>
          </div>
        </div>
                        
                    </div>
                </div>
                  
              </div>
            </div>
          </div>
        </div>
      </div>
     
    </div>
    <!-- COL-END -->
  </div>


<!-- ROW-1 OPEN -->
<div class="row">
  <div class="col-xl-12 col-md-12">
    <div class="card productdesc">
      <div class="card-body">
        <div class="panel panel-primary">
          <div class="tab-menu-heading">
            <div class="tabs-menu1">
              <!-- Tabs -->
              <ul ngbNav #nav="ngbNav" [activeId]="1" class="panel-tabs">
                <li [ngbNavItem]="1">
                  <a ngbNavLink>User Details</a>
                  <ng-template ngbNavContent>
                    <div class="tab-pane pt-5" id="tab6">
                      <div class="table-responsive">
                        <table class="table table-bordered">
                          <tr>
                            <td class="fw-bold">Population Group</td>
                            <td>{{member?.population_group?.name}}</td>
                          </tr>
                          <tr>
                            <td class="fw-bold">Prayercell</td>
                            <td>{{member?.prayercell?.name}}</td>
                          </tr>
                          
                        </table>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="2">
                  <a ngbNavLink>Givings</a>
                  <ng-template ngbNavContent>
                    <div class="tab-pane active  pt-5" id="tab5">
                      <div class="table-responsive">
                        <p>Date</p>
                        <table class="table table-bordered text-nowrap mb-0">
                            <thead class="border-top">
                                <tr>
                                  <th>Contribution Date</th>
                                  <th>No.</th>
                                  <th>Category</th>
                                  <th>Total</th>
                                  <!-- <th>Status(email)</th>
                                  <th>Action</th> -->
                                   
                                </tr>
                            </thead>
                            <tbody *ngIf="member">
                                <tr class="border-bottom" *ngFor="let collection of member.contributions; index as i">
                                    <td *ngIf="i === 0 || member.contributions[i].contribution_date !== member.contributions[i-1].contribution_date" [attr.rowspan]="getRowspan(member.contributions, collection.contribution_date)">{{collection.contribution_date}}</td>
                                    <th>{{i + 1}}</th>
                                    <td>{{collection.contribution_type.name}}</td>
                                    <td>{{collection.contribution_amount}}</td>
                                    
                                    <!-- <td>
                                      <div class="mt-sm-1 text-center" >
                                          <a  class="btn text-primary btn-sm">
                                             <ng-template [ngIf] ="collection.status == 0">
                                              <span (click)="sendMail(collection.id)" class="fs-14"><i class="ri-mail-open-line text-danger fs-14"></i></span>
                                             </ng-template>
                                      </a>
                                      <ng-template [ngIf] ="collection.status == 1">
                                        <span class="fs-14" style="padding: 10px; margin-right: 30px;"><i class="ri-mail-send-line text-primary fs-14"></i></span>
                                      </ng-template>
                                      </div>
                                  </td> -->
                                  <!-- <td>
                                      <div class="g-2">
                                          <a 
                                          routerLink="view/users/1/collections" 
                      
                                          class="btn text-primary btn-sm"
                                              data-bs-toggle="tooltip"
                                              ngbTooltip="View"><span
                                                  class="fe fe-eye fs-14"></span></a>
                                          <a class="btn text-danger btn-sm"
                                              data-bs-toggle="tooltip"
                                              ngbTooltip="Delete"><span
                                                  class="fe fe-trash-2 fs-14"></span></a>
                                      </div>
                                  </td> -->
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    </div>
                  </ng-template>
                </li>
               
                <li [ngbNavItem]="3">
                  <a ngbNavLink>Descriptions</a>
                  <ng-template ngbNavContent>
                    <div class="tab-pane" id="tab7">
                      <ul class="p-5">
                        <li>
                          <i class="fa fa-check me-3 text-success mb-5"></i
                          >Can Sing
                        </li>
                        <li>
                          <i class="fa fa-check me-3 text-success mb-5"></i>Can play instrument
                        </li>
                        <li>
                          <i class="fa fa-check me-3 text-success mb-5"></i>can help in church
                        </li>
                        
                      </ul>
                    </div>
                  </ng-template>
                </li>
              </ul>
            </div>
          </div>
          <div class="panel-body tabs-menu-body">
            <div [ngbNavOutlet]="nav"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ROW-1 CLOSED -->
